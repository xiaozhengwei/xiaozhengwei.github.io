## 客户端缓存

- 页面缓存
- 浏览器缓存
  - 减少数据传输冗余
  - 减少服务器负担
  - 加快加载速度
- App缓存

## 服务端缓存

- 数据库缓存 （Query Cache）
  - 修改少，提高查询效率
  - 修改多，增加系统负担，查询效率低
- 平台级缓存
  - 基于应用程序的缓存库
  - 具有一定的分布式能力
  - 数据不能保证强一致性
  - 无法保证高可用
  - Ehcache
    - 轻量快速
    - 良性伸缩
    - 标准支持
    - 扩展性强
    - 数据持久
    - 缓存监听
    - 分布式缓存
  - Jboss Cache
    - 核心缓存【树状结构】
    - pojo缓存【字节码编织】
    -  支持树状结构
    - 支持集群
    - 支持事务的缓存框架
    - 缓存加载器
    - 驱逐策略
    - 缓存钝化
    - 并发
  - OSCache
    - 缓存任何对象
    - 拥有全面的API
    - 永久缓存
    - 支持集群
    - 缓存过期
  - Guava Cache
    - 消耗本地内存提升速度
    - 更新锁定【】
  - 为什么不用MAP
    - 内存管理
    - 缓存过期策略
    - 容量规划
    - Map是否线程安全
    - 持久化
    - 多实例数据同步及一致性
- 应用级缓存
  - CDN缓存（内容分发网络）
    - 本地Cache加速
    - 实现跨运行商的网络加速
    - 远程加速
    - 带宽优化
    - 集群抗攻击
  - Redis
  - Memcached

![image-20210325104044108](..\..\\resources\images\cache.png)



JSR107 (Jcache API)：堆Java对象临时在内存中进行缓存的方法

- 对象创建
- 共享访问
- 假脱机
- 失效
- 各JVM的一致性



- 能否持久化
- 是否有集群方案
- 体积是否庞大
- 是否有辅助功能
- 是否轻量



```
项目对数据一致性不高
需要缓存的数据量可控
需要提升一些并发能力
```

- Ehcache
  - 多级缓存策略
  - 缓存的数据在内存和磁盘当中
  - 缓存数据在虚拟机重启过中写入磁盘
  - 可以通过RMI或接口的方式实现分布式缓存
  - 允许注册时间来监听缓存

- Guava Cache
  
- 相对于CurrentHashMap，限制内存的使用，会自动回收元素
  
- Spring Cache 【可整合其他缓存】

  - 通过少量的配置就可以使代码支持缓存

  - 不用安装第三方组件就可以使用缓存

  - 支持Spring Express Lanaguage

  - 支持AspectJ

  - 支持自定义key,灵活性，扩展性

    



## 本地缓存

速度快，效率高 (I/O,网络)

